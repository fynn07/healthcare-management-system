<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="../output.css">
    <link rel="stylesheet" href="../dist/css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.27/jspdf.plugin.autotable.min.js"></script>



    <script type="module" defer src="../hooks/fetchPatientDetails.js"></script>
    <script type="module" defer src="../hooks/fetchProviderName.js"></script>
    <script type="module" defer src="../utils/checkLoginStatus.js"></script>
    <script type="module" defer src="../utils/generateQR.js"></script>
    <script type="module" defer src="../utils/generatePDF.js"></script>
    <script type="module" defer src="../utils/logout.js"></script>

    <script type="module" defer src="../hooks/medicationHistory/useFetchMedicationHistory.js"></script>
    <script type="module" defer src="../hooks/vaccinationHistory/useFetchVaccinationHistory.js"></script>
    <script type="module" defer src="../hooks/familyHistory/useFetchFamilyHistory.js"></script>
    <script type="module" defer src="../hooks/socialHistory/useFetchSocialHistory.js"></script>
    <script type="module" defer src="../hooks/surgicalHistory/useFetchSurgicalHistory.js"></script>
    <script type="module" defer src="../hooks/vitalHistory/useFetchVitalHistory.js"></script>
    <script type="module" defer src="../hooks/allergyHistory/useFetchAllergyHistory.js"></script>

    <title>Dashboard</title>
</head>

<body class="flex justify text-gray-800 font-poppins border-box bg-gradient-to-bl from-[#FAF1F1] to-[#F6F1FF] text-sm md:text-base">
    <header class="fixed top-0 w-full z-10 px-6 py-4 bg-[#ffffff90] backdrop-blur-xl border-b border-gray_border justify-between items-center inline-flex">
        <a href="landing.html" class="justify-center items-center cursor-pointer gap-2.5 flex">
            <img src="../assets/logo_the_healthbook.svg" alt="The Health Book Logo">
        </a>

        <div class="AccountHeader pr-4 justify-start items-center gap-4 flex text-neutral-600">
            <button id="logout-button"
                    onclick="logout()"
                    class="px-8 py-2 bg-blue_super_light rounded-lg hover:bg-blue_cta text-blue_cta hover:text-white font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                <span>Logout</span>
            </button>

            <!-- div
                class="provider_name_field text-lg font-medium font-source_sans_pro leading-normal cursor-pointer transition-transform">
            </div>

            <div class="ProfilePhoto w-8 h-auto rounded-full text-neutral-600">
                <button class="flex items-center text-gray-600 cursor-pointer focus:outline-none">
                    <img src="../assets/icon_user_circle.svg" alt="User icon" class="h-9">
                </button>
            </div -->
        </div>
    </header>
    <div id="qrcode" style="display: none;"></div>

    <aside id="sidebar"
        class="fixed transition-all xl:flex left-0 lg:w-80 h-full flex-col justify-start items-start grow basis-0 px-6 py-8 pt-[7rem] bg-white border-r border-gray_border gap-8 ">
        <nav id="second-nav" class="flex w-fit rounded-b-xl gap-2 items-center text-[#054F99] absolute top-[69px] right-[-21.5rem] md:right-[-23.5rem] lg:right-[-24.5rem] px-6 py-3 bg-[#fefefe] bg-opacity-95 backdrop-blur-xl border-b border-x border-gray_border z-20">
            <button type="button" id="sidebar_button" class="text-lg text-gray-600 sidebar-toggle flex flex-col">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                     stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 8.25V18a2.25 2.25 0 0 0 2.25 2.25h13.5A2.25 2.25 0 0 0 21 18V8.25m-18 0V6a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6ZM7.5 6h.008v.008H7.5V6Zm2.25 0h.008v.008H9.75V6Z" />
                </svg>
            </button>
            <ul class="flex items-center ml-1 text-nowrap">
                <li class="mr-2">
                    <a href="/client/pages/digitalid.html" class="text-gray-400 hover:text-[#054F99] font-medium">Dashboard</a>
                </li>
                <li class="text-gray-600 mr-2 font-medium">/</li>
                <li class="mr-2">
                    <a href="#" class="font-medium hover:text-[#054F99]">Medical History</a>
                </li>
            </ul>
        </nav>

        <div class="HospitalName flex flex-col gap-y-2 px-1">
            <a href="#">
                <span class="provider_name_field text-neutral-800 text-2xl font-bold font-montserrat leading-normal"></span>
            </a>

            <div class="flex flex-wrap gap-0.5 text-neutral-500">
                <span id="provider-type" class="flex w-fit h-fit LocalGovernmentUnit font-medium text-blue_main italic">
                </span>
                <span id="provider-location"  class="LocalGovernmentUnit text-base font-normal leading-tight">
                </span>
            </div>
        </div>

        <div id="page_tag_list" class="flex flex-col w-full gap-3">
            <a href="#" id="page_tab_digital_id"
                class="bg-blue_super_light text-blue_main flex w-full px-5 py-3 gap-3 rounded-xl items-center cursor-pointer">
                <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z" />
                    </svg>
                </div>
                <span class="grow shrink basis-0 text-base leading-normal">Digital IDs</span>
            </a>
            <a href="my_account.html" id="page_tab_my_account"
                class="flex w-full px-5 py-3 gap-3 rounded-xl items-center cursor-pointer">
                <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                    </svg>
                </div>
                <span class="grow shrink basis-0 text-base leading-normal">My Account</span>
            </a>
        </div>
    </aside>


    <!-- Main -->
    <main id="main"
          class="xl:ml-80 flex items-start flex-col w-full mt-[69px] px-6 md:px-12 lg:px-16 py-24 gap-12 transition-all">
        <div class="flex justify-center w-full min-h-screen transition-all main pt-2 gap-8">
            <div id="main_content" class="flex flex-col max-w-[1440px] gap-8 w-full">
                <!-- Patient Profile Overview -->
                <div
                    class="flex flex-col justify-center w-full px-12 pt-8 pb-10 bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">

                    <div class="flex justify-end">
                        <div class="flex gap-6">
                            <button>
                                <img src="../assets/editing.png" id="edit-patient-button" class="h-5 w-5 transition-all hover:h-8 hover:w-8" />
                            </button>
                            <button>
                                <img src="../assets/bin.png" id="delete-patient-button" class="h-5 w-5 transition-all hover:h-8 hover:w-8" />
                            </button>
                        </div>
                    </div>

                    <div class="flex items-center">
                        <div class="flex items-center gap-4 w-full">
                            <img id="patient_profile_picture" class="h-24 w-24 rounded-full" src="../assets/default_user_profile.svg" alt="Profile Picture">
                            <div class="flex flex-col gap-1">
                                <h2 id="fullName" class="text-2xl font-semibold text-black tracking-tight font-poppins">N/A</h2>
                                <span class="text-base text-gray-500 font-medium tracking-tight font-poppins">Patient | Patient Records</span>
                            </div>
                        </div>

                        <div class="flex max-md:w-full gap-3 h-fit">
                            <button id="profile_generate_qr"
                                    class="flex justify-center gap-2 px-4 py-2 max-md:w-1/2 lg:min-w-44 bg-blue_main rounded-lg hover:bg-blue_cta text-white transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z" />
                                </svg>
                                <span class="block md:hidden lg:flex">Generate QR</span>
                            </button>
                            <button id="generate_pdf"
                                    class="flex justify-center gap-2 px-4 py-2 max-md:w-1/2 lg:min-w-44 bg-blue_super_light text-blue_main border border-blue_main rounded-lg hover:bg-blue_light transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z" />
                                </svg>

                                <span class="block md:hidden lg:flex">Print Profile</span>
                            </button>
                        </div>
                    </div>

                    <div id="generatedQRModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
                        <div class="bg-white shadow-lg rounded-lg p-6 w-96">
                            <!-- Header -->
                            <div class="flex justify-between items-center mb-4 border-b pb-2">
                                <h2 class="text-xl font-semibold text-gray-800">Generated QR Code</h2>
                                <div class="flex items-center gap-2">
                                    <button id="downloadQR" class="text-blue-500 hover:text-blue-700 font-semibold">Download</button>
                                    <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold">&times;</button>
                                </div>
                            </div>
                            <!-- QR Code -->
                            <div id="qr-code" class="flex justify-center items-center py-4"></div>
                            <!-- Close Button -->
                            <button id="exitQR" class="mt-4 w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:ring focus:ring-red-300">
                                Close
                            </button>
                        </div>
                    </div>
                    
                    

                    <div id="profile-overview-card" class="flex flex-col flex-1 ml-24 gap-3">
                        <p class="pt-5 pb-3 text-base text-gray-500 font-medium tracking-normal font-poppins">Personal Information</p>

                        <div class="flex flex-wrap flex-1 gap-x-8 gap-y-2">
                            <div class="flex gap-3">
                                <i class="ri-women-line text-base"></i>
                                <h2 id="gender" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-cake-2-line text-base"></i>
                                <h2 id="birthday" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-mail-line text-base"></i>
                                <h2 id="email" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-phone-line text-base"></i>
                                <h2 id="contactNumber" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-ruler-line text-base"></i>
                                <h2 id="height" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-game-line text-base"></i>
                                <h2 id="weight" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                            <div class="flex gap-3">
                                <i class="ri-home-3-line text-base"></i>
                                <h2 id="address" class="text-sm font-medium text-black tracking-tight font-poppins">N/A</h2>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- EDIT PROFILE FIELD -->

                <section id="edit-patient-form" class="hidden bg-white dark:bg-gray-900 fixed inset-0 bg-opacity-75 flex justify-center items-center">
                    <div class="max-w-4xl w-full p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800 font-poppins">
                        <h2 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Edit Patient</h2>
                        <form id="patient-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <!-- First Name -->
                                <div>
                                    <label for="patient-first-name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">First Name</label>
                                    <input type="text" name="patient-first-name" id="patient-first-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's first name" required="">
                                </div>

                                <!-- Last Name -->
                                <div>
                                    <label for="patient-last-name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Last Name</label>
                                    <input type="text" name="patient-last-name" id="patient-last-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's last name" required="">
                                </div>

                                <!-- Middle Name -->
                                <div>
                                    <label for="patient-middle-name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Middle Name</label>
                                    <input type="text" name="patient-middle-name" id="patient-middle-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's middle name">
                                </div>

                                <!-- Gender Field -->
                                <div>
                                    <label for="patient-gender" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Gender</label>
                                    <select id="patient-gender" name="patient-gender" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" required>
                                        <option value="" disabled selected>Select gender</option>
                                        <option value="M">Male</option>
                                        <option value="F">Female</option>
                                    </select>
                                </div>

                                <!-- Birthdate Field -->
                                <div>
                                    <label for="patient-birthdate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Birthdate</label>
                                    <input type="date" name="patient-birthdate" id="patient-birthdate" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" required="">
                                </div>

                                <!-- Height Field -->
                                <div>
                                    <label for="patient-height" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Height (cm)</label>
                                    <input type="number" name="patient-height" id="patient-height" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter height in cm" required="">
                                </div>

                                <!-- Weight Field -->
                                <div>
                                    <label for="patient-weight" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Weight (kg)</label>
                                    <input type="number" name="patient-weight" id="patient-weight" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter weight in kg" required="">
                                </div>

                                <!-- Email Field -->
                                <div>
                                    <label for="patient-email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email Address</label>
                                    <input type="email" name="patient-email" id="patient-email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's email address" required="">
                                </div>

                                <!-- Contact Number Field -->
                                <div>
                                    <label for="patient-contact" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Contact Number</label>
                                    <input type="tel" name="patient-contact" id="patient-contact" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's contact number" required="">
                                </div>

                                <div>
                                    <label for="patient-address" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Address</label>
                                    <input type="text" name="patient-address" id="patient-address" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Enter patient's address" required="">
                                </div>
                            </div>
                            <div class="flex justify-between mt-4 sm:mt-6">
                                <button type="button" id="edit-close-form" class="px-4 py-2 bg-white text-blue_main border border-blue_main rounded">Cancel</button>
                                <button type="submit" class="px-4 py-2 bg-blue_main text-white rounded hover:bg-blue-800">
                                    Edit Patient
                                </button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- MEDICATION HISTORY -->
                <div id="medication-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Medication History</span>
                            <button id="add-btn"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Administered by you
                            </button>

                            <!-- button id="btn-medication-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Prescribed by all
                            </button>
                            <button id="btn-medication-by-you" class="px-2 pb-4 transition-all">
                                Prescribed by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="medication-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                    <th scope="col" class="px-6 py-3">Date Prescribed</th>
                                    <th scope="col" class="px-6 py-3">Generic Name</th>
                                    <th scope="col" class="px-6 py-3">Dosage Form</th>
                                    <th scope="col" class="px-6 py-3">Quantity</th>
                                    <th scope="col" class="px-6 py-3">Instructions</th>
                                    <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="medication-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="medication-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-form" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="medication-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Medication Record</h2>
                        <form id="medication-history-form" class="mt-8">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="sm:col-span-2">
                                    <label for="medHistoryPrescribed" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Date Prescribed</label>
                                    <input type="date" name="medHistoryPrescribed" id="medication-history-date-prescribed" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type date added" required="">
                                </div>
                                <div class="w-full">
                                    <label for="medHistoryGeneric" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Generic Name</label>
                                    <input type="text" name="medHistoryGeneric" id="medication-history-generic-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type generic brand" required="">
                                </div>
                                <div class="w-full">
                                    <label for="medHistoryDosage" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Dosage Form</label>
                                    <input type="text" name="medHistoryDosage" id="medication-history-dosage" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="500mg" required="">
                                </div>

                                <div>
                                    <label for="medHistoryQuantity" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Quantity</label>
                                    <input type="number" name="medHistoryQuantity" id="medication-history-quantity" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="12" required="">
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="medHistoryInstructions" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Instructions</label>
                                    <textarea id="medication-history-instructions" name="medHistoryInstructions" rows="8" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Your description here"></textarea>
                                </div>
                            </div>
                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-form" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-medication-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">
                                        Delete Record
                                    </button>
                                    <button type="submit" id="medication-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                <div>
                            </div>
                        </form>
                    </div>
                </section>


                <!-- VACCINATION HISTORY -->
                <div id="vaccination-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Vaccination History</span>
                            <button id="add-btnvacc"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Administered by you
                            </button>

                            <!-- button id="btn-vaccination-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Administered by all
                            </button>
                            <button id="btn-vaccination-by-you" class="px-2 pb-4 transition-all">
                                Administered by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="vaccination-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                    <th scope="col" class="px-6 py-3">Vaccine and Brand Name</th>
                                    <th scope="col" class="px-6 py-3">Provider/Date</th>
                                    <th scope="col" class="px-6 py-3">Site Given</th>
                                    <th scope="col" class="px-6 py-3">Dose Ml</th>
                                    <th scope="col" class="px-6 py-3">Next Dose On</th>
                                    <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="vaccination-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="vaccination-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formvacc" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="vaccination-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Vaccination Record</h2>
                        <form id="vaccination-history-form" class="mt-8">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="sm:col-span-2">
                                    <label for="vaccDateAdministered" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Date Administered</label>
                                    <input type="date" name="vaccDateAdministered" id="vaccine-history-date-administered" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type date added" required="">
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="vaccNextDoseDate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Next Dose On</label>
                                    <input type="date" name="vaccNextDoseDate" id="vaccine-history-next-dose-date" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type date added" required="">
                                </div>
                                <div class="w-full">
                                    <label for="vaccName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Vaccine Name</label>
                                    <input type="text" name="vaccName" id="vaccine-history-vaccine-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Influenza Vaccine" required="">
                                </div>
                                <div class="w-full">
                                    <label for="brandName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Brand Name</label>
                                    <input type="text" name="brandName" id="vaccine-history-brand-name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Fluzone Quadrivalent" required="">
                                </div>
                                <div class="w-full">
                                    <label for="vaccProvider" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Provider</label>
                                    <input type="text" name="provider" id="vaccine-history-provider" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Moderna" required="">
                                </div>

                                <div>
                                    <label for="vaccSite" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Site Given</label>
                                    <input type="text" name="siteGiven" id="vaccine-history-site-given" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Leg" required="">
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="vaccDose" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Dose ML</label>
                                    <input type="text" name="doseMl" id="vaccine-history-dose-ml" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="500mg" required="">
                                </div>
                            </div>
                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formvacc" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-vaccination-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">
                                        Delete Record
                                    </button>
                                    <button type="submit" id="vaccination-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                <div>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- FAMILY HISTORY -->
                <div id="family-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Family History</span>
                            <button id="add-btnfam"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by you
                            </button>

                            <!-- button id="btn-family-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by all
                            </button>
                            <button id="btn-family-by-you" class="px-2 pb-4 transition-all">
                                Added by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="family-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                    <th scope="col" class="px-6 py-3">Relationship</th>
                                    <th scope="col" class="px-6 py-3">Condition Illness</th>
                                    <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="family-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="family-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formfam" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="family-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Family History Record</h2>
                        <form id="family-history-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="w-full">
                                    <label for="relationship" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Relationship</label>
                                    <input type="text" name="relation" id="family-history-relationship" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Mother" required="">
                                </div>
                                <div class="w-full">
                                    <label for="famIllness" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Condition Illness</label>
                                    <input type="text" name="illness" id="family-history-condition-illness" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Type 2 Diabetes" required="">
                                </div>
                            </div>

                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formfam" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-family-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">
                                        Delete Record
                                    </button>
                                    <button type="submit" id="family-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                <div>
                            </div>
                        </form>
                    </div>
                </section>


                <!-- SOCIAL HISTORY -->
                <div id="social-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Social History</span>
                            <button id="add-btnsocial"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by you
                            </button>
                            <!-- button id="btn-social-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by all
                            </button>
                            <button id="btn-social-by-you" class="px-2 pb-4 transition-all">
                                Added by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="social-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                    <th scope="col" class="px-6 py-3">Nicotine Consumption</th>
                                    <th scope="col" class="px-6 py-3">Alcohol Consumption</th>
                                    <th scope="col" class="px-6 py-3">Drug</th>
                                    <th scope="col" class="px-6 py-3">Diet</th>
                                    <th scope="col" class="px-6 py-3">Physical Activity</th>
                                    <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="social-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="social-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formsocial" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="social-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Social History Record</h2>
                        <form id="social-history-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="w-full">
                                    <label for="nicotine" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nictone Consumption</label>
                                    <input type="text" name="nicotine" id="social-history-nicotine-consumption" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Sometimes" required="">
                                </div>
                                <div class="w-full">
                                    <label for="alcohol" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Alcohol Consumption</label>
                                    <input type="text" name="alcohol" id="social-history-alcohol-consumption" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Rarely" required="">
                                </div>
                                <div class="w-full">
                                    <label for="drugs" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Drugs taken</label>
                                    <input type="text" name="drugs" id="social-history-drugs-taken" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Marijuana" required="">
                                </div>
                                <div class="w-full">
                                    <label for="diet" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Diet</label>
                                    <input type="text" name="diet" id="social-history-diet" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Keto Diet" required="">
                                </div>
                                <div class="w-full">
                                    <label for="physicalAct" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Physical Activity</label>
                                    <textarea id="social-history-physical-activity" name="physicalAct" rows="8" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-xl border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Your description here"></textarea>
                                </div>

                            </div>
                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formsocial" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-social-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">Delete Record</button>
                                    <button type="submit" id="social-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>


                <!-- SURGICAL HISTORY -->
                <div id="surgical-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Surgical History</span>
                            <button id="add-btnsurgery"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all  border-b-2 text-blue_main border-blue_main font-medium">
                                Added by you
                            </button>
                            <!-- button id="btn-surgery-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by all
                            </button>
                            <button id="btn-surgery-by-you" class="px-2 pb-4 transition-all">
                                Added by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="surgical-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                    <th scope="col" class="px-6 py-3">Operation Procedure</th>
                                    <th scope="col" class="px-6 py-3">Indication</th>
                                    <th scope="col" class="px-6 py-3">Hospital</th>
                                    <th scope="col" class="px-6 py-3">Operation Date</th>
                                    <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="surgical-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="surgical-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formsurgery" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="surgical-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Surgical History Record</h2>
                        <form id="surgical-history-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="w-full">
                                    <label for="nicotine" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Operation Procedure</label>
                                    <input type="text" name="nicotine" id="surgical-history-operation-procedure" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Tumor Removal" required="">
                                </div>
                                <div class="w-full">
                                    <label for="alcohol" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Indication</label>
                                    <input type="text" name="alcohol" id="surgical-history-indication" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="" required="">
                                </div>
                                <div class="w-full">
                                    <label for="drugs" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Hospital</label>
                                    <input type="text" name="drugs" id="surgical-history-hospital" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Cebu Medical Center" required="">
                                </div>
                                <div class="w-full">
                                    <label for="diet" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Operation Date</label>
                                    <input type="date" name="diet" id="surgical-history-operation-date" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="" required="">
                                </div>
                            </div>

                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formsurgery" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-surgical-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">Delete Record</button>
                                    <button type="submit" id="surgical-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- VITAL HISTORY -->
                <div id="vital-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Vital Sign History</span>
                            <button id="add-btnvital"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by you
                            </button>
                            <!-- button id="btn-vital-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by all
                            </button>
                            <button id="btn-vital-by-you" class="px-2 pb-4 transition-all">
                                Added by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="vital-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                        <th scope="col" class="px-6 py-3">Temperature</th>
                                        <th scope="col" class="px-6 py-3">Blood Pressure</th>
                                        <th scope="col" class="px-6 py-3">Pulse Rate</th>

                                        <th scope="col" class="px-6 py-3">Blood Glucose</th>
                                        <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="vital-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="vital-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formvital" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="vital-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Vital Sign History Record</h2>
                        <form id="vital-history-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="w-full">
                                    <label for="temperature" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Temperature</label>
                                    <input type="text" name="nicotine" id="vital-history-temperature" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="39C" required="">
                                </div>
                                <div class="w-full">
                                    <label for="bp" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Blood Pressure</label>
                                    <input type="text" name="bp" id="vital-history-blood-pressure" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="120/80 mm Hg" required="">
                                </div>
                                <div class="w-full">
                                    <label for="pulse" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Pulse Rate</label>
                                    <input type="text" name="pulse" id="vital-history-pulse-rate" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="70bpm" required="">
                                </div>
                                <div class="w-full">
                                    <label for="bg" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Blood Glucose</label>
                                    <input type="text" name="bg" id="vital-history-blood-glucose" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="99 mg/dL" required="">
                                </div>
                            </div>

                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formvital" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-vital-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">Delete Record</button>
                                    <button type="submit" id="vital-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>


                <!-- ALLERGY HISTORY -->
                <div id="allergy-history-card"
                     class="flex flex-col justify-center w-full bg-white rounded-xl border border-gray_border dark:bg-gray-800 custom-table">
                    <div class="flex flex-col pt-6 gap-4">
                        <div class="flex justify-between px-8">
                            <span class="text-lg font-poppins font-bold">Allergy History</span>
                            <button id="add-btnallergy"
                                    class="px-4 py-2 bg-blue_super_light rounded-xl hover:bg-blue_light text-blue_cta font-medium border border-blue_cta focus:ring-4 focus:ring-white transition-all">
                                + Add
                            </button>
                        </div>
                        <div class="flex px-8 border-b border-gray_border gap-4 text-base ">
                            <button class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Administered by you
                            </button>
                            <!-- button id="btn-allergy-by-all" class="px-2 pb-4 transition-all border-b-2 text-blue_main border-blue_main font-medium">
                                Added by all
                            </button>
                            <button id="btn-allergy-by-you" class="px-2 pb-4 transition-all">
                                Added by you
                            </button -->
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table id="allergy-table"
                               class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 font-poppins">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Date Added</th>
                                        <th scope="col" class="px-6 py-3">Temperature</th>
                                        <th scope="col" class="px-6 py-3">Blood Pressure</th>
                                        <th scope="col" class="px-6 py-3">Pulse Rate</th>
                                        <th scope="col" class="px-6 py-3">Blood Glucose</th>
                                        <th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th>
                                </tr>
                            </thead>
                            <tbody id="allergy-history-body">
                                <!-- Data Rows -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation example" class=" flex justify-end">
                        <ul id="allergy-history-navigation" class="flex items-center p-2 text-sm">
                                <!-- Navigation -->
                        </ul>
                    </nav>
                </div>

                <section id="add-formallergy" class="invisible opacity-0 w-full h-[calc(100vh-69px)] mt-[69px] flex bg-gradient-to-br from-[#FAF1F180] to-[#F6F1FF80] backdrop-blur-xl fixed inset-0 justify-center items-center transition-all">
                    <div class="w-full xl:max-w-[1200px] md:mx-12 lg:mx-16 border border-gray_border px-12 py-12 bg-white md:rounded-xl md:shadow-xl dark:bg-gray-800">
                        <h2 id="allergy-header" class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Add Allergy History Record</h2>
                        <form id="allergy-history-form">
                            <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
                                <div class="w-full">
                                    <label for="temperature" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Substance</label>
                                    <input type="text" name="nicotine" id="allergy-history-substance" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Shellfish" required="">
                                </div>

                                <div class="w-full">
                                    <label for="severity" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Severity</label>
                                    <input type="text" name="severe" id="allergy-history-severity" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Midly Severe" required="">
                                </div>
                                <div class="w-full">
                                    <label for="crit" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Criticality</label>
                                    <input type="text" name="cit" id="allergy-history-criticality" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Critical" required="">
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="allergyDesc" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
                                    <textarea id="allergy-history-description" name="allergyDesc" rows="8" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-xl border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Your description here"></textarea>
                                </div>
                            </div>

                            <div class="flex justify-between mt-8 sm:mt-6">
                                <button type="button" id="close-formallergy" class="flex min-w-[144px] justify-center px-4 py-2 bg-white hover:bg-blue_light text-blue_main border border-blue_main rounded-lg transition-all hover:font-medium">Cancel</button>
                                <div class="flex gap-4">
                                    <button type="button" id="delete-allergy-record" class="hidden px-4 py-2 bg-red-600 text-white border rounded hover:bg-red-700">Delete Record</button>
                                    <button type="submit" id="allergy-button" class="flex min-w-[144px] justify-center px-4 py-2 bg-blue_cta hover:bg-blue_main text-white rounded-lg transition-all">
                                        Add Record
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Deletion Modal -->
                <div id="confirm-deletion-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 hidden">
                    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full">
                        <h4 class="text-lg font-semibold text-gray-800">Confirm Deletion</h4>
                        <p class="mt-2 text-gray-600">Are you sure you want to delete this record?</p>
                        <div class="mt-4 flex justify-end space-x-3">
                            <button id="cancel-delete-btn"
                                class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 focus:outline-none">
                                No
                            </button>
                            <button id="confirm-delete-btn"
                                class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none">
                                Yes
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>


    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.bundle.js"></script>
    <script src="../../path/to/flowbite/dist/flowbite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    <script type="module" src="../hooks/medicationHistory/useCreateMedicationHistory.js"></script> 
    <script type="module" src="../hooks/vaccinationHistory/useCreateVaccinationHistory.js"></script> 
    <script type="module" src="../hooks/familyHistory/useCreateFamilyHistory.js"></script> 
    <script type="module" src="../hooks/socialHistory/useCreateSocialHistory.js"></script> 
    <script type="module" src="../hooks/surgicalHistory/useCreateSurgicalHistory.js"></script> 
    <script type="module" src="../hooks/vitalHistory/useCreateVitalHistory.js"></script> 
    <script type="module" src="../hooks/allergyHistory/useCreateAllergyHistory.js"></script> 
    <script type="module" src="../hooks/allergyHistory/useDeleteAllergyHistory.js"></script>
    <script type="module" src="../hooks/familyHistory/useDeleteFamilyHistory.js"></script>
    <script type="module" src="../hooks/medicationHistory/useDeleteMedicationHistory.js"></script>
    <script type="module" src="../hooks/socialHistory/useDeleteSocialHistory.js"></script>
    <script type="module" src="../hooks/surgicalHistory/useDeleteSurgicalHistory.js"></script>
    <script type="module" src="../hooks/vaccinationHistory/useDeleteVaccinationHistory.js"></script>
    <script type="module" src="../hooks/vitalHistory/useDeleteVitalHistory.js"></script>
    <script type="module" src="../hooks/deletePatient.js"></script>
    <script type="module" src="../hooks/editPatient.js"></script>
    <script src="../utils/toastMessageOnRefresh.js"></script>
    <script defer src="../utils/sideBarToggle.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script defer src="../medHistory.js"></script>
    <script type="module" defer src="../utils/table.js"></script>
    <script defer src="../vaccHistory.js"></script>
    <script defer src="../famHistory.js"></script>
    <script defer src="../socialHistory.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</body>
</html>